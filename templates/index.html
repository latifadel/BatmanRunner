<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Runner Game</title>
    <link rel="stylesheet" href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container py-4">
        <!-- Game UI -->
        <div class="game-container">
            <!-- Road Background -->
            <div class="road"></div>

            <!-- Start Screen -->
            <div id="start-screen" class="overlay">
                <h1 class="display-4 mb-4 text-shadow neon-effect">Gotham Runner</h1>
                <p class="lead mb-4">Use arrow keys to move left/right and space to jump<br>
                    Collect bat-symbols and avoid the villains!</p>

                <!-- Add Skin Selection -->
                <div class="mb-4">
                    <h3 class="text-info mb-3">Choose Your Batmobile</h3>
                    <div id="skin-selector" class="d-flex justify-content-center gap-4"></div>
                </div>

                <button id="start-btn" class="btn btn-lg btn-primary shadow-lg">Enter Gotham</button>
            </div>

            <!-- Game Over Screen -->
            <div id="game-over" class="overlay d-none">
                <h2 class="display-5 mb-3 neon-effect">Gotham Needs You!</h2>
                <p class="lead mb-3">Your Score: <span id="final-score">0</span></p>
                <button id="restart-btn" class="btn btn-lg btn-primary shadow-lg">Return to Gotham</button>
            </div>

            <!-- Score Display -->
            <div id="score-container" class="score-display">
                <div class="score">Score: <span id="score">0</span></div>
                <div class="multiplier">Ã—<span id="multiplier">1</span></div>
            </div>

            <!-- Game Canvas -->
            <canvas id="gameCanvas"></canvas>
        </div>
    </div>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => console.log('ServiceWorker registration successful'))
                    .catch(err => console.log('ServiceWorker registration failed:', err));
            });
        }
    </script>
    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>
</html>